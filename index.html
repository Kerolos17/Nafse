<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="theme-color" content="#0a0a0f" />
    <title>Nafis AI</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Tajawal:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <!-- SETUP -->
    <div id="setup">
      <div class="si">
        <div style="text-align: center; margin-bottom: 28px">
          <div style="font-size: 48px; margin-bottom: 8px">๐ง</div>
          <h1
            style="
              font-family: &quot;Tajawal&quot;, sans-serif;
              font-size: 32px;
              font-weight: 900;
            "
          >
            ูุงูุณ <span style="color: var(--accent)">AI</span>
          </h1>
          <p style="color: var(--muted); margin-top: 4px; font-size: 14px">
            ูุณุงุนุฏู ุงูุฐูู ูู ุฑุญูุฉ ุงูู 90 ููู
          </p>
        </div>
        <div class="card">
          <div class="sec-title" style="margin-bottom: 16px">ุงุจุฏุฃ ุฑุญูุชู ๐</div>
          <div style="margin-bottom: 12px">
            <label
              style="
                font-size: 12px;
                color: var(--muted);
                font-weight: 700;
                display: block;
                margin-bottom: 6px;
              "
              >ุงุณูู</label
            ><input type="text" id="sName" placeholder="ูุซูุงู: ุฃุญูุฏ" />
          </div>
          <div style="margin-bottom: 12px">
            <label
              style="
                font-size: 12px;
                color: var(--muted);
                font-weight: 700;
                display: block;
                margin-bottom: 6px;
              "
              >ูุฏูู ุงูุฑุฆูุณู</label
            ><input
              type="text"
              id="sGoal"
              placeholder="ูุซูุงู: WordPress Developer ูุญุชุฑู"
            />
          </div>
          <div style="margin-bottom: 12px">
            <label
              style="
                font-size: 12px;
                color: var(--muted);
                font-weight: 700;
                display: block;
                margin-bottom: 6px;
              "
              >ุชุงุฑูุฎ ุงูุจุฏุงูุฉ</label
            ><input type="date" id="sDate" />
          </div>
          <div style="margin-bottom: 16px">
            <label
              style="
                font-size: 12px;
                color: var(--muted);
                font-weight: 700;
                display: block;
                margin-bottom: 6px;
              "
              >๐ Anthropic API Key
              <span style="font-weight: 400; opacity: 0.7"
                >(ููู AI โ ุงุฎุชูุงุฑู)</span
              ></label
            >
            <input
              type="password"
              id="sApiKey"
              placeholder="sk-ant-api03-..."
            />
            <div class="api-notice">
              ๐ ูุญููุธ ุนูู ุฌูุงุฒู ุจุณ ููุด ุจูุชุจุนุช ูุฃู ููุงู.<br />ุฌูุจ ุงูู Key ูู:
              <strong style="color: var(--accent)"
                >console.anthropic.com</strong
              >
              โ API Keys<br />ูู ูุด ุนูุฏู Keyุ ุงูู App ููุดุชุบู ุจุฏูู AI.
            </div>
          </div>
          <button class="btn btn-primary" onclick="startJourney()">
            ุงุจุฏุฃ ุงูุฑุญูุฉ ๐ฅ
          </button>
        </div>
        <p
          style="
            text-align: center;
            font-size: 11px;
            color: var(--muted);
            margin-top: 12px;
          "
        >
          ูู ุจูุงูุงุชู ูุญููุธุฉ ุนูู ุฌูุงุฒู ููุท ๐
        </p>
      </div>
    </div>

    <!-- MAIN APP -->
    <div id="app" style="display: none">
      <div id="topbar">
        <div style="display: flex; align-items: center; gap: 8px">
          <span style="font-size: 20px">๐ง</span>
          <span
            style="
              font-family: &quot;Tajawal&quot;, sans-serif;
              font-weight: 900;
              font-size: 18px;
            "
            >ูุงูุณ <span style="color: var(--accent)">AI</span></span
          >
        </div>
        <div style="display: flex; align-items: center; gap: 8px">
          <span class="flame">๐ฅ</span>
          <span
            id="hStreak"
            style="
              font-family: &quot;Tajawal&quot;, sans-serif;
              font-weight: 900;
              font-size: 18px;
              color: var(--gold);
            "
            >0</span
          >
          <span
            id="hName"
            style="
              font-size: 12px;
              color: var(--muted);
              max-width: 70px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            "
          ></span>
        </div>
      </div>

      <div id="content">
        <!-- HOME -->
        <div class="page active" id="page-home">
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 14px;
            "
          >
            <div>
              <p style="font-size: 12px; color: var(--muted)" id="greet">
                ุตุจุงุญ ุงูููุฑ ๐
              </p>
              <p
                style="
                  font-size: 20px;
                  font-weight: 900;
                  font-family: &quot;Tajawal&quot;, sans-serif;
                "
                id="welcomeMsg"
              >
                ุฃููุงู ูุง ุจุทู
              </p>
            </div>
            <div style="text-align: left">
              <p style="font-size: 10px; color: var(--muted)">ุงูููู</p>
              <p
                style="
                  font-family: &quot;Tajawal&quot;, sans-serif;
                  font-weight: 900;
                  font-size: 32px;
                  color: var(--accent);
                  line-height: 1;
                "
                id="dayNum"
              >
                1
              </p>
              <p style="font-size: 10px; color: var(--muted)">ูู 90</p>
            </div>
          </div>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-num" style="color: var(--accent)" id="sStreak">
                0
              </div>
              <div class="stat-label">๐ฅ streak</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--green)" id="sDone">
                0
              </div>
              <div class="stat-label">โ ุฃูุงู ููุชููุฉ</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--gold)" id="sPct">
                0%
              </div>
              <div class="stat-label">๐ ุฅูุฌุงุฒ ุนุงู</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--red)" id="sRemain">
                90
              </div>
              <div class="stat-label">๐ ููู ูุชุจูู</div>
            </div>
          </div>
          <div
            class="card"
            style="display: flex; align-items: center; gap: 16px"
          >
            <div class="ring-wrap">
              <svg width="80" height="80" class="ring-svg">
                <circle
                  cx="40"
                  cy="40"
                  r="32"
                  fill="none"
                  stroke="var(--surface2)"
                  stroke-width="8"
                />
                <circle
                  id="todayRing"
                  cx="40"
                  cy="40"
                  r="32"
                  fill="none"
                  stroke="var(--green)"
                  stroke-width="8"
                  stroke-dasharray="201"
                  stroke-dashoffset="201"
                  class="ring-circle"
                />
              </svg>
              <div class="ring-label">
                <span
                  style="
                    font-family: &quot;Tajawal&quot;, sans-serif;
                    font-weight: 900;
                    font-size: 16px;
                  "
                  id="todayPct"
                  >0%</span
                >
              </div>
            </div>
            <div style="flex: 1">
              <p style="font-size: 12px; color: var(--muted)">ุชูุฏู ุงูููู</p>
              <p
                style="font-weight: 700; font-size: 14px; margin: 4px 0"
                id="phName"
              >
                ุงููุฑุญูุฉ 1
              </p>
              <p style="font-size: 11px; color: var(--muted)" id="phDesc">
                PHP + WordPress Core
              </p>
              <div class="lbar">
                <div class="lbar-fill" id="phBar" style="width: 0%"></div>
              </div>
              <p
                style="font-size: 10px; color: var(--muted); margin-top: 4px"
                id="phProg"
              >
                0 / 30 ููู
              </p>
            </div>
          </div>
          <div class="card" style="border-color: rgba(108, 99, 255, 0.25)">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <div style="display: flex; align-items: center; gap: 8px">
                <span style="font-size: 18px">๐ค</span
                ><span style="font-weight: 700; font-size: 13px"
                  >ุชุญููู AI ูุฃุฏุงุฆู</span
                >
              </div>
              <button class="btn btn-sm" onclick="genInsight()" id="insightBtn">
                ุชุญููู
              </button>
            </div>
            <div
              id="insightTxt"
              style="font-size: 13px; color: var(--muted); line-height: 1.75"
            >
              ุงุถุบุท "ุชุญููู" ุนุดุงู ุงูู AI ูุดูู ุจูุงูุงุชู ๐ก
            </div>
          </div>
          <div class="card">
            <div class="sec-title">๐ ุงูู 90 ููู</div>
            <div class="cal-grid" id="calGrid"></div>
            <div style="display: flex; gap: 12px; margin-top: 10px">
              <span style="font-size: 10px; color: var(--green)">โ ููุชูู</span>
              <span style="font-size: 10px; color: var(--gold)">โ ุฌุฒุฆู</span>
              <span style="font-size: 10px; color: var(--muted)"
                >โ ูู ููุณุฌููู</span
              >
            </div>
          </div>
        </div>

        <!-- TODAY -->
        <div class="page" id="page-today">
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 14px;
            "
          >
            <div>
              <p
                style="
                  font-weight: 900;
                  font-size: 20px;
                  font-family: &quot;Tajawal&quot;, sans-serif;
                "
              >
                โ๏ธ ููู ุงูููุงุฑุฏู
              </p>
              <p
                style="font-size: 12px; color: var(--muted)"
                id="todayDateTxt"
              ></p>
            </div>
            <div class="day-badge" id="todayDayBadge">ููู 1</div>
          </div>
          <div class="card">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <div class="sec-title" style="margin-bottom: 0">โ ุงูููุงู</div>
              <span
                style="font-size: 13px; font-weight: 700; color: var(--green)"
                id="habCount"
                >0/0</span
              >
            </div>
            <div id="habList"></div>
            <button
              class="btn btn-sm"
              style="width: 100%; margin-top: 8px; justify-content: center"
              onclick="openSheet()"
            >
              + ุฃุถู ูููุฉ
            </button>
          </div>

          <!-- Work Tasks Section -->
          <div class="card" style="border-color: rgba(255, 101, 132, 0.25)">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <div class="sec-title" style="margin-bottom: 0">
                ๐ผ ููุงู ุงูุดุบู
              </div>
              <div style="display: flex; gap: 6px">
                <button
                  class="btn btn-sm"
                  onclick="analyzeWorkTasks()"
                  id="analyzeBtn"
                  style="font-size: 11px; padding: 5px 10px"
                >
                  ๐ค ุญูู
                </button>
                <button
                  class="btn btn-sm"
                  onclick="openWorkSheet()"
                  style="font-size: 11px; padding: 5px 10px"
                >
                  + ูููุฉ
                </button>
              </div>
            </div>
            <div id="workTasksList"></div>
            <div
              id="workAnalysis"
              style="
                display: none;
                margin-top: 10px;
                padding: 10px;
                background: rgba(108, 99, 255, 0.08);
                border: 1px solid rgba(108, 99, 255, 0.2);
                border-radius: 10px;
                font-size: 12px;
                line-height: 1.7;
              "
            ></div>
          </div>

          <div class="card" style="border-color: rgba(108, 99, 255, 0.2)">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <div class="sec-title" style="margin-bottom: 0">
                ๐ ุชูุฑูุฑ ุงูุดุบู ุงููููู
              </div>
              <button
                class="btn btn-sm"
                onclick="generateWorkReport()"
                id="reportWorkBtn"
                style="font-size: 11px; padding: 5px 10px"
              >
                ๐ ุงุนูู
              </button>
            </div>
            <div
              id="workReportTxt"
              style="font-size: 12px; color: var(--muted); line-height: 1.75"
            >
              ุงุถุบุท ูุชูููุฏ ุชูุฑูุฑ ุฌุงูุฒ ููุฅุฑุณุงู
            </div>
            <button
              class="btn btn-sm"
              onclick="copyWorkReport()"
              id="copyReportBtn"
              style="
                display: none;
                width: 100%;
                margin-top: 8px;
                justify-content: center;
              "
            >
              ๐ ูุณุฎ ุงูุชูุฑูุฑ
            </button>
          </div>

          <div class="card" style="border-color: rgba(108, 99, 255, 0.2)">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <div class="sec-title" style="margin-bottom: 0">
                ๐ฏ ูููุฉ AI ููููู
              </div>
              <button class="btn btn-sm" onclick="suggestTask()">ุงูุชุฑุญ</button>
            </div>
            <div
              id="taskSuggest"
              style="font-size: 13px; color: var(--muted); line-height: 1.75"
            >
              ุงุถุบุท "ุงูุชุฑุญ" ุนุดุงู ุงูู AI ูุญุฏุฏ ุฃูู ูููุฉ ุชุนูููุง ุงูููุงุฑุฏู
            </div>
          </div>
          <div class="card">
            <div class="sec-title">๐ ูุฒุงุฌู ุฅููุ</div>
            <div class="mood-row">
              <div class="mood-btn" onclick="setMood('๐ด', this)">๐ด</div>
              <div class="mood-btn" onclick="setMood('๐', this)">๐</div>
              <div class="mood-btn" onclick="setMood('๐', this)">๐</div>
              <div class="mood-btn" onclick="setMood('๐ช', this)">๐ช</div>
              <div class="mood-btn" onclick="setMood('๐ฅ', this)">๐ฅ</div>
            </div>
          </div>
          <div class="card">
            <div class="sec-title">๐ ุงุชุนููุช ุฅููุ</div>
            <textarea
              id="noteArea"
              placeholder="ุงูุชุจ ุฃูู ุญุงุฌุฉ ุงุชุนููุชูุง ุฃู ุนููุชูุง..."
              style="resize: none; height: 90px"
              oninput="saveNote()"
            ></textarea>
            <button
              class="btn btn-primary"
              style="margin-top: 10px"
              onclick="saveDay()"
            >
              ๐พ ุงุญูุธ ูููู
            </button>
          </div>
          <div class="card" style="text-align: center">
            <div class="sec-title" style="justify-content: center">
              โฑ๏ธ ูุคูุช ุงููุฐุงูุฑุฉ
            </div>
            <div class="timer-big" id="timerDisp">90:00</div>
            <div
              style="
                display: flex;
                gap: 8px;
                margin-top: 12px;
                justify-content: center;
              "
            >
              <select
                id="timerSel"
                style="width: auto; padding: 8px 10px; font-size: 13px"
                onchange="resetTimer()"
              >
                <option value="90">90 ุฏูููุฉ</option>
                <option value="60">60 ุฏูููุฉ</option>
                <option value="45">45 ุฏูููุฉ</option>
                <option value="25">25 Pomodoro</option>
              </select>
              <button
                class="btn btn-icon"
                id="timerBtn"
                onclick="toggleTimer()"
              >
                โถ
              </button>
              <button class="btn btn-icon" onclick="resetTimer()">โบ</button>
            </div>
          </div>
        </div>

        <!-- AI CHAT -->
        <div
          class="page"
          id="page-ai"
          style="
            padding: 0;
            display: flex;
            flex-direction: column;
            height: calc(100dvh - 56px - 64px);
          "
        >
          <div
            id="chatMsgs"
            style="
              flex: 1;
              overflow-y: auto;
              -webkit-overflow-scrolling: touch;
              display: flex;
              flex-direction: column;
              gap: 10px;
              padding: 12px 12px 4px;
            "
          >
            <div style="display: flex; justify-content: flex-end">
              <div class="bubble ai">
                <strong style="color: var(--accent)"
                  >ูุฑุญุจุงู! ุฃูุง ูุงูุณ AI ๐ค</strong
                ><br />
                ุจุนุฑู ุฎุทุชู ูุฃุฏุงุกู. ุงุณุฃููู ุฃู ุญุงุฌุฉ โ ุชุญูููุ ูุตูุญุฉุ ุฃู ุชุดุฌูุน! ๐ช
              </div>
            </div>
          </div>
          <div class="chips" style="padding-top: 8px; flex-shrink: 0">
            <div class="chip" onclick="qp('ุญูู ุฃุฏุงุฆู ุงูุฃุณุจูุน ุฏู')">
              ๐ ุญูู ุงูุฃุณุจูุน
            </div>
            <div class="chip" onclick="qp('ุฅูู ุงููููุฉ ุงูุฃูู ุงูููุงุฑุฏูุ')">
              ๐ฏ ูููุฉ ุงูููู
            </div>
            <div class="chip" onclick="qp('ุฑุชุจูู ููุงู ุงูุดุบู ุญุณุจ ุงูุฃููููุฉ')">
              ๏ฟฝ ุฑุชุจ ุงูููุงู
            </div>
            <div class="chip" onclick="qp('ุฎุงูู ุฃููุฏ ุงูู streakุ ุณุงุนุฏูู')">
              ๏ฟฝ streak ูู ุฎุทุฑ
            </div>
            <div class="chip" onclick="qp('ูููู ุชูุฏูู ุจุตุฑุงุญุฉ')">
              ๐ ูููู ุชูุฏูู
            </div>
            <div class="chip" onclick="qp('ุงุนููู ุฎุทุฉ ูุฐุงูุฑุฉ ููุฃุณุจูุน ุงูุฌุงู')">
              ๐ ุฎุทุฉ ุงูุฃุณุจูุน
            </div>
            <div class="chip" onclick="qp('ุฅูู ููุงุท ุถุนููุ')">โ๏ธ ููุงุท ุงูุถุนู</div>
          </div>
          <div
            style="
              padding: 8px 12px 12px;
              display: flex;
              gap: 8px;
              border-top: 1px solid var(--border);
              flex-shrink: 0;
            "
          >
            <input
              type="text"
              id="chatIn"
              placeholder="ุงุณุฃู ุฃู ุญุงุฌุฉ..."
              style="flex: 1"
              onkeydown="
                if (event.key === 'Enter' && !event.shiftKey) {
                  event.preventDefault();
                  sendMsg();
                }
              "
            />
            <button
              class="btn btn-icon"
              onclick="sendMsg()"
              id="sendBtn"
              style="flex-shrink: 0; font-size: 18px"
            >
              โ
            </button>
          </div>
        </div>

        <!-- PROGRESS -->
        <div class="page" id="page-progress">
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 14px;
            "
          >
            <p
              style="
                font-weight: 900;
                font-size: 20px;
                font-family: &quot;Tajawal&quot;, sans-serif;
              "
            >
              ๐ ุฑุญูุชู
            </p>
            <button class="btn btn-sm" onclick="exportData()">๐ค ุชุตุฏูุฑ</button>
          </div>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-num" style="color: var(--accent)" id="pTotal">
                0
              </div>
              <div class="stat-label">ุฃูุงู ูุณุฌูุฉ</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--green)" id="pBest">
                0
              </div>
              <div class="stat-label">ุฃูุถู streak ๐ฅ</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--gold)" id="pAvg">
                0%
              </div>
              <div class="stat-label">ูุชูุณุท ูููู</div>
            </div>
            <div class="stat-card">
              <div class="stat-num" style="color: var(--red)" id="pRemain2">
                90
              </div>
              <div class="stat-label">ููู ูุชุจูู</div>
            </div>
          </div>
          <div class="card">
            <div class="sec-title">ุงูู 90 ููู ูุงููุฉ</div>
            <div class="cal-grid" id="fullCal"></div>
          </div>
          <div class="card" style="border-color: rgba(108, 99, 255, 0.25)">
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <div style="display: flex; align-items: center; gap: 8px">
                <span>๐</span
                ><span style="font-weight: 700; font-size: 13px"
                  >ุชูุฑูุฑ AI ุงูุฃุณุจูุนู</span
                >
              </div>
              <button
                class="btn btn-sm"
                onclick="weeklyReport()"
                id="reportBtn"
              >
                ุงุนูู ุชูุฑูุฑ
              </button>
            </div>
            <div
              id="reportTxt"
              style="font-size: 13px; color: var(--muted); line-height: 1.75"
            >
              ุงุถุบุท ุนุดุงู ุงูู AI ูุนููู ุชูุฑูุฑ ุดุงูู
            </div>
          </div>
          <div class="card">
            <div class="sec-title">๐ ููุงุญุธุงุชู ุงูุฃุฎูุฑุฉ</div>
            <div id="journal"></div>
          </div>
          <div class="card">
            <div class="sec-title">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</div>
            <div style="margin-bottom: 10px">
              <label
                style="
                  font-size: 12px;
                  color: var(--muted);
                  display: block;
                  margin-bottom: 6px;
                "
                >๐ API Key</label
              >
              <input type="password" id="newApiKey" placeholder="AIzaSy..." />
              <button
                class="btn btn-sm"
                style="margin-top: 8px; width: 100%; justify-content: center"
                onclick="saveApiKey()"
              >
                ุญูุธ ุงูู Key
              </button>
              <p style="font-size: 11px; color: var(--muted); margin-top: 10px; text-align: center;">
                <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: var(--accent); text-decoration: none;">ุฅุฒุงู ุฃุฌูุจ ููุชุงุญ Google Geminiุ</a>
              </p>
            </div>
            <button
              class="btn btn-sm"
              style="
                width: 100%;
                justify-content: center;
                color: var(--red);
                border-color: rgba(255, 101, 132, 0.3);
              "
              onclick="resetApp()"
            >
              ๐๏ธ ุจุฏุก ูู ุฌุฏูุฏ
            </button>
          </div>
        </div>
      </div>
      <!-- /content -->

      <div id="navbar">
        <button class="nav-item active" onclick="goPage('home')" id="nav-home">
          <span class="icon">๐</span><span>ุงูุฑุฆูุณูุฉ</span>
        </button>
        <button class="nav-item" onclick="goPage('today')" id="nav-today">
          <span class="icon">โ๏ธ</span><span>ุงูููู</span>
        </button>
        <button class="nav-item" onclick="goPage('ai')" id="nav-ai">
          <span class="icon">๐ค</span><span>AI</span>
        </button>
        <button class="nav-item" onclick="goPage('progress')" id="nav-progress">
          <span class="icon">๐</span><span>ุงูุชูุฏู</span>
        </button>
      </div>
    </div>

    <!-- Habit Sheet -->
    <div
      id="habitSheet"
      style="display: none; position: fixed; inset: 0; z-index: 150"
    >
      <div
        style="
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(4px);
        "
        onclick="closeSheet()"
      ></div>
      <div
        style="
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          background: var(--surface);
          border-radius: 20px 20px 0 0;
          padding: 20px;
          padding-bottom: calc(20px + env(safe-area-inset-bottom));
        "
      >
        <div
          style="
            width: 36px;
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            margin: 0 auto 16px;
          "
        ></div>
        <div class="sec-title">+ ูููุฉ ุฌุฏูุฏุฉ</div>
        <div style="margin-bottom: 10px">
          <input type="text" id="hName" placeholder="ุงุณู ุงููููุฉ" />
        </div>
        <div
          style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px"
        >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐ป</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐๏ธ</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐ฏ</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >โก</span
          >
          <span
            style="
              font-size: 22px;
              cursor: pointer;
              padding: 6px;
              border-radius: 8px;
            "
            onclick="pEmoji(this)"
            >๐ฅ</span
          >
        </div>
        <div style="margin-bottom: 14px">
          <input type="text" id="hEmoji" placeholder="ุฃู ุงูุชุจ ุฅูููุฌู" />
        </div>
        <button class="btn btn-primary" onclick="addHabit()">ุฅุถุงูุฉ</button>
      </div>
    </div>

    <!-- Work Task Sheet -->
    <div
      id="workSheet"
      style="display: none; position: fixed; inset: 0; z-index: 150"
    >
      <div
        style="
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(4px);
        "
        onclick="closeWorkSheet()"
      ></div>
      <div
        style="
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          background: var(--surface);
          border-radius: 20px 20px 0 0;
          padding: 20px;
          padding-bottom: calc(20px + env(safe-area-inset-bottom));
          max-height: 80vh;
          overflow-y: auto;
        "
      >
        <div
          style="
            width: 36px;
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            margin: 0 auto 16px;
          "
        ></div>
        <div class="sec-title">๐ผ ูููุฉ ุดุบู ุฌุฏูุฏุฉ</div>
        <div style="margin-bottom: 10px">
          <input type="text" id="wTaskName" placeholder="ุงุณู ุงููููุฉ" />
        </div>
        <div style="margin-bottom: 10px">
          <label
            style="
              font-size: 12px;
              color: var(--muted);
              display: block;
              margin-bottom: 6px;
            "
            >ุงูุฃููููุฉ</label
          >
          <div style="display: flex; gap: 8px">
            <button
              class="btn btn-sm priority-btn"
              onclick="selectPriority('high', this)"
              data-priority="high"
              style="flex: 1; border-color: var(--red); color: var(--red)"
            >
              ๐ด ุนุงููุฉ
            </button>
            <button
              class="btn btn-sm priority-btn active"
              onclick="selectPriority('medium', this)"
              data-priority="medium"
              style="
                flex: 1;
                border-color: var(--gold);
                color: var(--gold);
                background: rgba(245, 200, 66, 0.1);
              "
            >
              ๐ก ูุชูุณุทุฉ
            </button>
            <button
              class="btn btn-sm priority-btn"
              onclick="selectPriority('low', this)"
              data-priority="low"
              style="flex: 1; border-color: var(--green); color: var(--green)"
            >
              ๐ข ููุฎูุถุฉ
            </button>
          </div>
        </div>
        <div style="margin-bottom: 10px">
          <label
            style="
              font-size: 12px;
              color: var(--muted);
              display: block;
              margin-bottom: 6px;
            "
            >ุงูููุช ุงููุชููุน (ุฏูููุฉ)</label
          >
          <input
            type="number"
            id="wTaskTime"
            placeholder="30"
            value="30"
            min="5"
            max="480"
          />
        </div>
        <div style="margin-bottom: 14px">
          <label
            style="
              font-size: 12px;
              color: var(--muted);
              display: block;
              margin-bottom: 6px;
            "
            >ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label
          >
          <textarea
            id="wTaskNotes"
            placeholder="ุชูุงุตูู ุฅุถุงููุฉ..."
            style="resize: none; height: 60px"
          ></textarea>
        </div>
        <button class="btn btn-primary" onclick="addWorkTask()">
          ุฅุถุงูุฉ ุงููููุฉ
        </button>
      </div>
    </div>

    <div id="toast">โ ุชู</div>

    <script src="/app.js"></script>
  </body>
</html>
